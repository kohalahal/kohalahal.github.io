<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Poor+Story&family=Black+Han+Sans&family=Do+Hyeon&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-166323516-1', 'auto');
  ga('send', 'pageview');
</script>



    <script src="https://kit.fontawesome.com/a18004eea6.js" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript" src="/assets/js/script.js"></script>
    <title>공부를 해야함</title>
</head>
<body>
    <div class="page">
        <header>
  <div class="header">
    <div class="logo">
      <a id="title" href="http://kohalahal.github.io"><h1 class="kohalahal">KOHALAHAL</h1></a>
      <h3 class="github">.github.io</h3>
    </div>

    <nav>
      <ul>
            
        <li>      
          
          <a href="/about.html">About</a>  
          
        </li>
            
        <li>      
          
          <a href="/progress.html">Progress</a>  
          
        </li>
            
        <li>      
          
          <a href="/read/index.html">Posts</a>  
          
        </li>
            
        <li>      
          
          <a href="/contact.html">Contact</a>  
          
        </li>
            
      </ul>
    </nav>
    <div id="menu-icon">
      <i class="fas fa-bars"></i>
    </div>  
  </div>              
</header> 
        <div class="content">
            <div class="content-title">
                <h1>공부를 해야함</h1>
            </div>
         <div class="content-txt">
            <section>
  <div class="post-container">
    <div class="post-load"><h3 id="공부를-해야함">공부를 해야함</h3>

<p>나름 컴공 기초지식을 쌓으려고 노력했다.</p>

<p>작년에 도서관에서 DB, 프로그래밍 기초, 네트워크, 자료구조, 운영체제 교재들을 전부 읽고 정리했다.</p>

<p>그런데 직접 개발하고 운영하고 하니깐</p>

<p>음…. 공부해야겠다.</p>

<p>예를 들어서 예전에 엑셀 파일을 업로드해서 목록 추출하고 걸러서 DB에 넣는 기능 개발할 때</p>

<p>메모리를 꽤 잡아먹을 것 같아서 개발할 때 신경을 나름 썼다.</p>

<p>테스트하면서 서버 물리메모리 사용량을 확인하는데</p>

<p>그래프가 훅~ 올라간 다음에 동작이 다 끝났는데도 안내려갔다.</p>

<p>팀장님한테 여쭤보니까 가비지컬렉터가 이론처럼 제대로 동작하지 않는 경우가 있다고 하시며</p>

<p>마지막에 = null 처리를 해보라고 하셨다.</p>

<p>그래도 그래프는 여전히 우상향하고</p>

<p>이상하게도 굉장히 이쁜 일직선으로 움직였다.</p>

<p>근데 일단 자바 프로그램이 OS한테서 할당받아서 갖고있는 메모리랑.. 거기서 진짜 쓰고있는 메모리랑.. 구분을 못했던 거였다.</p>

<p>애플리케이션 런타임에서 기능 실행 전후로 사용중인 힙 메모리, 놀고있는 힙 메모리 같은 걸 확인해야지</p>

<p>서버의 운영체제님께서 관리하고 있는 메모리 사용량을 볼 게 아니었다….</p>

<p>생각해보면 당연한데 생각을 안한 거다 솔직히.</p>

<p>그리고 가비지컬렉터가 메모리에서 가비지 청소는 하는거는 공부하고 그랬는데</p>

<p>그걸 OS에 반환을 하냐 안하냐는 관심을 가진 적이 없었다.</p>

<p>그리고 앱의 min, max 메모리는 설정하면서 어떻게 프로그램이 메모리를 키웠다 줄였다 관리하는지도, 그런걸 관리한다는 생각도 딱히 안했다.</p>

<p>버전에 대한 정보도 관심 밖이었다.</p>

<p>찾아보기론 자바 12 이전 버전의 기본 가비지컬렉터인 g1은</p>

<p>OS한테 메모리를 받아가기만하고</p>

<p>풀gc가 돌거나 OS에서 요구하지 않으면 반환을 안한다고 했다.</p>

<p>우리는 자바8에 디폴트 가비지컬렉터를 쓰고 있다.</p>

<p>암튼 그래서 얘가 큰 거 돌 때마다 예쁜 직선으로 서버한테 메모리 받아간거고</p>

<p>끝나고 아무 것도 안해도 뚱땡이마냥 서버 메모리를 차지하고 앉아있던거고</p>

<p>그래도 아무 이슈는 없었던거고</p>

<p>시간지나면 다시 예쁜 직선으로 줄어드는 거였다.</p>

<p>그리고 DB에 여럿이 혹은 오래 혹은 어려운 걸 요청하면 DB가 티나게 힘들어한다는 것도 겪어보고 알았다.</p>

<p>컴공 공부도하고 Spring이랑 Java랑 JVM, DB 공부도 해야겠다……. 생각도 하고 살아야한다…..</p>

</div>
  </div>

</section>


         </div>
        </div>
    </div>
    <footer>
  <div class="footer-wrapper">
    <div class="footer-tagline">
      <p>© Copyright 2020 KOHALAHAL</p>
    </div>
  </div>
</footer> 
</body>
</html>