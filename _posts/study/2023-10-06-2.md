---
layout: post
title: 운영체제 1
categories : study
---

### 운영체제 공부 목표
컴퓨터 하드웨어 바로 위에 설치되는 소프트웨어 계층

모든 컴퓨터 시스템의 필수적 부분

사용자 관점이 아닌 설계자 입장에서 그 역할과 구성 공부


## 운영체제
컴퓨터 하드웨어 바로 위에 설치뒤어 사용자 및 다른 소프트웨어와 하드웨어를 연결

cpu, 메모리, 입출력, 하드디스크 등등 자원 관리하여 편안하게 사용할 수 있는 환경 제공

물리적으로 1대의 컴퓨터가 여러 사용자/프로그램에게 독자적으로 수행되는 것 같은 환상 제공(서버)



## 자원관리
- CPU를 여러 프로그램에게 짧은 시간 동안 번갈아 할당
- 실행중 프로그램들에 메모리 공간을 적절히 분배
# 효율성
주어진 자원으로 최대한 성능을 내도록
# 형평성
특정 사용자/프로그램이 지나친 불이익이 발생하지 않도록

CPU는 매 클럭마다 메모리에 있는 기계어를 연산, 실행한다.
운체를 실행하거나 특정 프로그램을 실행
CPU가 직접 입출력 장치에 접근할 수 잆다.
요청하면 입출력장치가 자기 IO컨트롤러(각 입출력장치의 CPU) 사용해서 읽어서 자기 메모리에 올려서 CPU한테 갖다준다.

## CPU스케줄링
CPU 하드웨어가 스스로 스케줄링할 수 없고
운영체제가 관리 대행한다. 하드웨어+소프트웨어 합동

# 디스크는 CPU보다 100만배 느리다
메모리는 100배 느리다

그 차이 줄이려고 파이프라인, 캐시메모리 등을 쓴다. - 캐싱

혹은 요청한 다음에 응답 기다리지 않고 다른거 하고 온다. - 인터럽트

# 디스크 스케줄링
마치 엘리베이터처럼 누가 먼저 버튼눌렀는지 말고 이동에 효율적인 방식으로
디스크헤드가 이동하여 스케줄링


# 캐싱
입출력 장치가 CPU에 비해 느리니까 또달라할 수 있는 것 캐싱해두기
# 언터럽트
CPU가 입출력 장치에게 부탁한 다음에 당장 일할 수 있는 것 한다.

입출력 장치가 자기 일 끝났으면 인터럽트해서 자기 일 끝난 것을 알린다.

CPU는 기계어 실행 중간에 인터럽트 체크, CPU가 운체로 넘어가서 다시 스케줄링 받는다.

### CPU는 최대한 놀리지 않고 열심히 일하게 한다.


## 프로세스 : 실행중인 프로그램

CPU가 기계어 실행 중이면

다음 실행될 애들이 CPU큐에 줄을 서 있다.

디스크 입출력 큐, 키보드 입력 큐 등등

각자 스케줄링에 의해 처리 및 인터럽트


### CPU 스케줄링
누구한테 먼저 CPU 사용권을 줄 것인가

## FCFS first-come first-serve

첫 프로그램은 대시시간 0이지만 뒷 순번 애들은 많이 기다리니까 

앞 쪽 순서 프로세스 시간이 기냐 짧냐에 따라 평균 대기 시간 엄청나게 길어질 수 있다.

## SJF shortest-job-first
평균 대기시간은 제일 적다 - 효율성

하지만, 기아현상 발생 가능

뒤에 사용시간이 긴 프로그램한테 형형성이 안좋다, 평생 실행 안될 수도 있다. - 비형평성


## RR Round Robin
현대 가장 많이 사용

각 프로세스는 동일한 CPU할당시간을 가진다.

짧은 시간 간격으로 다 돌아가면서 실행하도록

CPU를 쓰다가 빼앗아야해서 하드웨어와 같이 해야한다.

자기가 CPU 쓰고싶은 시간이 길면 더 자주 줄 서서 더 기다려야해서 공정하다.

대기 시간도 (줄선 프로그램 수 - 1)*각각 CPU 할당 시간 이상을 초과하지 않는다.



 








출처 운영체제 반효경